#RÃ©cupÃ©ration d'une image node basÃ© sur alpine et c'est franÃ§ais ğŸ‡«ğŸ‡·
FROM node:19-alpine

#CrÃ©ation d'un rÃ©pertoire dans le container
WORKDIR /app

#RÃ©cupÃ©ration du package.json contenant les dÃ©pendances du projet
COPY package.json ./

#DÃ©couverte de yarn qui est un gestionnaie de package comme NPM
COPY yarn.lock ./

#Installation des dÃ©pendances
RUN yarn

#Copy du fichier serveur, dockerignore avec node_modules
COPY . /app/

RUN yarn build

#Expose sur le port 8080
EXPOSE 8080:8080

#Lance en dev, pas eu le temps d'essayer une fois le code compilÃ© avec yarn build
CMD ["yarn", "start"]